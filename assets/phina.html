<!DOCTYPE html>

  <title>ChukuYatchi</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <script src="http://cdn.rawgit.com/phi-jp/phina.js/v0.2.0/build/phina.js"></script>

<script>

phina.globalize();

const HEIGHT = 960;  // 画面の縦幅
const WIDTH = 640;   // 画面の横幅

var ASSETS = {
  image: {
    'iconMitsukeru': 'https://drive.google.com/uc?id=1FkQtvJNp60kb6r4GU0uezEMX6DZCGDqa',
    'iconOshigoto': 'https://drive.google.com/uc?id=1NKrSV77pmY_y-orZjL9IrgYp58W4NdvA',
    'iconBokin': 'https://drive.google.com/uc?id=1UYGej8SYAueHGJtazT6QdSTz0JUP2gf4',
  },
};
phina.define('MainScene', {
  superClass: 'CanvasScene',
  
  init: function() {
    this.superInit();

    // 画像
    this.iconOshigoto = Sprite('iconOshigoto').addChildTo(this);
    this.iconMitsukeru = Sprite('iconMitsukeru').addChildTo(this);
    this.iconBokin = Sprite('iconBokin').addChildTo(this);
    
    // 画像の配置
    // みつけるアイコン
    this.iconMitsukeru.x = this.gridX.span(3);
    this.iconMitsukeru.y = this.gridY.span(15);
    // おしごとアイコン
    this.iconOshigoto.x = this.gridX.center();
    this.iconOshigoto.y = this.gridY.span(15);
    // 募金アイコン
    this.iconBokin.x = this.gridX.span(13);
    this.iconBokin.y = this.gridY.span(15);

    // タッチを有効にする
    this.iconOshigoto.setInteractive(true);
    
    var cnt = 0;
    var label = Label({x:320,y:600,fill:'black',text:cnt}).addChildTo(this);
    // タッチイベント登録
    this.iconOshigoto.onpointstart = function() {
      label.text = cnt++;
    };
  },
});

phina.main(function() {
  var app = GameApp({
    startLabel: 'main',
    assets: ASSETS,
    height: HEIGHT,
    width: WIDTH,
  });
  
  app.run();
});
</script>
